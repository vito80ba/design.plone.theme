!(function(e, t) {
  if ('function' == typeof define && define.amd)
    define('ellipsed', ['exports'], t);
  else if ('undefined' != typeof exports) t(exports);
  else {
    var o = {};
    t(o), (e.ellipsed = o);
  }
})(this, function(e) {
  'use strict';
  Object.defineProperty(e, '__esModule', { value: !0 });
  var h =
    Object.assign ||
    function(e) {
      for (var t = 1; t < arguments.length; t++) {
        var o = arguments[t];
        for (var n in o)
          Object.prototype.hasOwnProperty.call(o, n) && (e[n] = o[n]);
      }
      return e;
    };
  function v(e, t) {
    var o = e.el,
      n = e.elStyle,
      a = e.elHeight,
      r = e.rowsLimit,
      i = e.rowsWrapped,
      l = e.options,
      s = e.buffer,
      c = s;
    if (i === r + 1) return h({}, e);
    var p = s,
      d = i,
      f = a;
    return (
      (o.innerHTML = c = s.length
        ? '' + s + l.delimiter + t + l.replaceStr
        : '' + t + l.replaceStr),
      parseFloat(n.height) > parseFloat(a) && (d++, (f = n.height), d === r + 1)
        ? ((o.innerHTML = c =
            '.' === p[p.length - 1] && '...' === l.replaceStr
              ? p + '..'
              : '' + p + l.replaceStr),
          h({}, e, { elHeight: f, rowsWrapped: d }))
        : ((o.innerHTML = c = p.length ? '' + p + l.delimiter + t : '' + t),
          h({}, e, { buffer: c, elHeight: f, rowsWrapped: d }))
    );
  }
  (e.disableResponsive = function(e) {
    window.removeEventListener('resize', e);
  }),
    (e.ellipsis = function t() {
      for (
        var o =
            0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : '',
          n =
            1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 1,
          a =
            2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {},
          e = h(
            {},
            {
              replaceStr: '...',
              responsive: !1,
              debounceDelay: 250,
              delimiter: ' ',
            },
            a
          ),
          r = document.querySelectorAll(o),
          i = [],
          l = 0;
        l < r.length;
        l++
      ) {
        var s = r[l];
        i[l] = s.innerHTML;
        var c = s.innerHTML.split(e.delimiter);
        s.innerHTML = '';
        var p = window.getComputedStyle(s);
        c.reduce(v, {
          el: s,
          buffer: s.innerHTML,
          elStyle: p,
          elHeight: 0,
          rowsLimit: n,
          rowsWrapped: 0,
          options: e,
        });
      }
      if (e.responsive) {
        var d = !1,
          f = window.innerWidth,
          u = function() {
            if (window.innerWidth !== f) {
              f = window.innerWidth;
              for (var e = 0; e < r.length; e++) r[e].innerHTML = i[e];
              t(o, n, h({}, a, { responsive: !1 }));
            }
          },
          g = function() {
            clearTimeout(d), (d = setTimeout(u, e.debounceDelay));
          };
        return window.addEventListener('resize', g), g;
      }
    });
}),
  require(['jquery', 'ellipsed'], function(s, e) {
    'use strict';
    var a = document.body.getAttribute('data-portal-url'),
      r = {},
      i = e.ellipsis,
      l = [
        { selector: '#breadcrumbs-home a', icon: 'fas fa-home', prepend: !0 },
        {
          selector: '#document-toc .portletHeader',
          icon: 'fas fa-list-ul',
          prepend: !0,
        },
        {
          selector: '#parent-fieldname-text.pat-autotoc .autotoc-nav a',
          icon: 'fas fa-chevron-right',
          prepend: !0,
        },
        {
          selector:
            '.template-album_view .photoAlbumEntry.photoAlbumFolder .photoAlbumEntryTitle',
          icon: 'fas fa-folder-open',
          prepend: !0,
        },
        {
          selector: '.footer-social .fb',
          icon: 'fab fa-facebook-f',
          prepend: !0,
        },
        {
          selector: '.footer-social .ig',
          icon: 'fab fa-instagram',
          prepend: !0,
        },
        { selector: '.footer-social .tw', icon: 'fab fa-twitter', prepend: !0 },
        {
          selector: '.footer-social .tg',
          icon: 'fab fa-telegram',
          prepend: !0,
        },
        { selector: '.footer-social .yt', icon: 'fab fa-youtube', prepend: !0 },
        {
          selector: '.footer-social .in',
          icon: 'fab fa-linkedin-in',
          prepend: !0,
        },
        {
          selector: '.footer-social .gp',
          icon: 'fab fa-google-plus-g',
          prepend: !0,
        },
        {
          selector: '.footer-social .pi',
          icon: 'fab fa-pinterest',
          prepend: !0,
        },
        {
          selector: '.footer-social .po',
          icon: 'fab fa-get-pocket',
          prepend: !0,
        },
        { selector: '.footer-social .rss', icon: 'fas fa-rss', prepend: !0 },
        {
          selector: '.footer-social .flickr',
          icon: 'fab fa-flickr',
          prepend: !0,
        },
        {
          selector:
            '.navigationTile a.navTreeFolderish:not(.navTreeCurrentNode):not(.navTreeItemInPath), .portletNavigationTree a.navTreeFolderish:not(.navTreeCurrentNode):not(.navTreeItemInPath)',
          icon: 'fas fa-angle-down',
          prepend: !1,
        },
        {
          selector:
            '.navigationTile a.navTreeFolderish.navTreeCurrentNode, .navigationTile a.navTreeFolderish.navTreeItemInPath, .portletNavigationTree a.navTreeFolderish.navTreeCurrentNode, .portletNavigationTree a.navTreeFolderish.navTreeItemInPath',
          icon: 'fas fa-angle-up',
          prepend: !1,
        },
        {
          selector: 'button#search-filter-toggle',
          icon: 'fas fa-filter',
          prepend: !0,
        },
        {
          selector: '#sorting-options a[data-sort="Date"]',
          icon: 'far fa-calendar-alt',
          prepend: !0,
        },
        {
          selector: '#sorting-options a[data-sort="sortable_title"]',
          icon: 'fas fa-sort-alpha-down',
          prepend: !0,
        },
        {
          selector:
            '#sorting-options a:not([data-sort="Date"]):not([data-sort="sortable_title"])',
          icon: 'fas fa-star',
          prepend: !0,
        },
        {
          selector: '#categories-filed-under',
          icon: 'fas fa-tags',
          prepend: !0,
        },
        {
          selector:
            '#portal-searchbox input:not(.solr-search) + button.search-button',
          icon: 'fas fa-search',
          prepend: !0,
        },
        {
          selector: '.documentActions #document-action-print a',
          icon: 'fas fa-print',
          prepend: !0,
        },
        {
          selector: 'nav.pagination ul li .arrow',
          icon: 'fas fa-angle-right',
          prepend: !1,
        },
        {
          selector: 'article.vevent a.event_ical',
          icon: 'far fa-calendar',
          prepend: !0,
        },
        {
          selector: '.event.summary.details li.event-calendar a',
          icon: 'far fa-calendar',
          prepend: !0,
        },
      ];
    s(document).ready(function() {
      var o = s('#portal-globalnav > li > a');
      s.ajax({
        url: a + '/@navigation',
        data: { 'expand.navigation.depth': 2 },
        headers: { Accept: 'application/json' },
        success: function(e, t) {
          var l;
          (r = e.items.reduce(function(e, t) {
            return (e[t['@id']] = t), e;
          }, {})),
            (l = r),
            o.each(function(e) {
              var t = s(this).attr('href'),
                o = !!(l[t] && 0 < l[t].items.length),
                n =
                  s(this)
                    .parent()
                    .attr('id') + '-inner';
              if ((s(this).attr('id', n), o)) {
                var a = l[t].items;
                s(this)
                  .parent()
                  .addClass('dropdown'),
                  s(this)
                    .addClass('dropdown-toggle')
                    .attr('data-toggle', 'dropdown')
                    .attr('role', 'button')
                    .attr('aria-haspopup', 'true')
                    .attr('aria-expanded', 'false'),
                  s(this).append(' <span class="caret"></span>');
                var r = document.createElement('ul'),
                  i = s(r);
                i.addClass('dropdown-menu'),
                  i.attr('aria-labelledby', n),
                  a.forEach(function(e, t) {
                    var o = document.createElement('li'),
                      n = s(o),
                      a = document.createElement('a'),
                      r = s(a);
                    r.text(e.title),
                      r.attr('href', e['@id']),
                      r.attr('title', e.title),
                      r.appendTo(n),
                      n.appendTo(i);
                  }),
                  s(this)
                    .parent()
                    .append(i);
              }
            });
        },
      }),
        l.forEach(function(e) {
          var t = s(e.selector);
          0 !== t.length &&
            (e.prepend
              ? t.prepend('<i class="' + e.icon + '"></i>')
              : t.append('<i class="' + e.icon + '"></i>'));
        }),
        s(window).scroll(function() {
          50 <= s(this).scrollTop()
            ? s('#return-to-top').fadeIn(200)
            : s('#return-to-top').fadeOut(200);
        }),
        s('#return-to-top').click(function() {
          s('body,html').animate({ scrollTop: 0 }, 500);
        });
      var t = s('.share');
      function e() {
        i(
          '.tile-collection .collectionItemDescription, .news-highlight .news-description, .news-big-photo .news-description',
          4,
          { responsive: !0 }
        );
      }
      if (
        (s('.news-column').length
          ? (s('.news-column').prepend(t), t.addClass('share-visible'))
          : s('#portal-column-two').length &&
            (s('#portal-column-two').prepend(t), t.addClass('share-visible')),
        s('.share .share-toggle').on('click', function(e) {
          e.preventDefault(), t.toggleClass('open');
        }),
        s('#search-toggle').on('click', function() {
          s('#portal-searchbox').toggleClass('open'),
            s('#search-toggle').toggleClass('open'),
            s('body').toggleClass('searchOpened'),
            s('#portal-searchbox').hasClass('open') &&
              s('#searchGadget').focus();
        }),
        s('button.plone-navbar-toggle').on('click', function() {
          s('#portal-mainnavigation').toggleClass('open');
        }),
        s('#globalnav-close').click(function() {
          s('#portal-mainnavigation').removeClass('open');
        }),
        s(document).on('click', function(e) {
          !s(e.target).closest('#portal-searchbox').length &&
            !s(e.target).closest('button#search-toggle').length &&
            s(window).width() <= 991 &&
            (s('#portal-searchbox').removeClass('open'),
            s('#search-toggle').removeClass('open'),
            s('body').removeClass('searchOpened')),
            s(e.target).closest('.share').length || t.removeClass('open'),
            !s(e.target).closest('#portal-globalnav-wrapper').length &&
              !s(e.target).closest('button.plone-navbar-toggle').length &&
              s(window).width() <= 991 &&
              s('#portal-mainnavigation #portal-globalnav').length &&
              s('#portal-mainnavigation #portal-globalnav').hasClass(
                'plone-nav'
              ) &&
              s('#portal-mainnavigation').removeClass('open');
        }),
        s('body').hasClass('userrole-anonymous')
          ? e()
          : s('.tiles-management').on('rtTilesLoaded', function() {
              e();
            }),
        s(document).on('patSliderInit', function(e) {
          s(e.originalEvent.detail)
            .find('.slick-dots')
            .attr('aria-hidden', !0);
        }),
        !!!document.documentMode)
      ) {
        var n = new Event('rtIconsLoaded');
        document.dispatchEvent(n);
      }
    });
  }),
  define('js/src/index.js', function() {});
//# sourceMappingURL=design-plone-theme-bundle-compiled.min.js.map
